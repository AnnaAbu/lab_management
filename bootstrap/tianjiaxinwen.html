<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href=" ../bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <style>
    </style>

</head>
<body>
<div class="header" style="background-color: #0053b2; padding-bottom: 2%;padding-top: 2%;padding-left: 10%;">
    <div class="media">
        <div class="media-left">
            <a href="#">
                <img class="media-object" src="./img/logo.png" alt="logo">
            </a>
        </div>
    </div>
</div>
<h1 class="text-center">添加文章</h1>
<div class="form-group tit" style="margin-left: 300px; ">
    <label class="control-label">标题</label>
    <div class="" style="width: 500px">
        <input type="text" class="form-control tite" id="tite" placeholder="">
    </div>
</div>
<label class="control-label" style="margin-left: 300px">内容编辑</label>
<div style="margin-left: 300px;margin-top:0">
    <textarea name="textarea" id="textarea" rows="20" cols="100">

    </textarea>
</div>
<button class="btn btn-primary mm" id="button_title" type="button" style="margin-left: 850px;margin-top: 10px">提交</button>
<script charset="utf-8" src="kindeditor/kindeditor-all-min.js"></script>
<script charset="utf-8" src="kindeditor/lang/zh-CN.js"></script>
<script type="text/javascript">
    var editor;
    KindEditor.ready(function (K) {
        editor = K.create('textarea', {
            allowImageUpload: false,
            items: [
                'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic',
                'underline', 'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright',
                'insertorderedlist', 'insertunorderedlist', '|', 'emoticons', 'image', 'link']
        });
    });
</script>
<script src="../js/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="../bootstrap/js/bootstrap.min.js"></script>
<!-- Just to make our placeholder images work. Don't actually copy the next line! -->
<script src="../assets/js/vendor/holder.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../assets/js/ie10-viewport-bug-workaround.js"></script>
<script>

//    $(document).ready(function () {
//        var url = "http://39.106.45.205:8002/getlist/detail/";
//        var tt=$("#tite").val();
//        $.ajax({
//            url: url,
//            type: "POST",
//            dataType: "json",
//            data: {},
//            success: function (result) {
//                alert(JSON.stringify(result));
//
//            },
//            error: function (error) {
//                console.log(JSON.stringify(error));
//
//            }
//        });
//    });
//    $(document).ready(function () {
//        var url = "http://39.106.45.205:8002/getlist/detail/";
//        $.ajax({
//            url: url,
//            type: "POST",
//            dataType: "json",
//            data: {"id": "3"},
//            success: function (result) {
//                alert(JSON.stringify(result));
//                content = result.content;
//                alert(content);
//
//                editor.html(content);
//            },
//            error: function (error) {
//                console.log(JSON.stringify(error));
//
//            }
//        });
//    });

    $('#button_title').on('click',function (e) {
        var url = "http://39.106.45.205:8002/getlist/detail/";
        var tt=$("#tite").val();
        var html=$("#textarea").val();
        html = editor.html();
        editor.sync();
        e.preventDefault();
//        alert("ttttt");
        alert(tt);
        alert(html);
//        alert("jjj");
        $.ajax({
            url: url,
            type: "POST",
            dataType: "json",
            data: {'title':tt,'content':str},
            success: function (result) {
//                alert(JSON.stringify(result));


//
            },
            error: function (error) {
                console.log(JSON.stringify(error));

            }
        });
    });
</script>
</body>
</html>